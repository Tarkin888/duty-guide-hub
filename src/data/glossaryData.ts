export interface GlossaryTerm {
  id: string;
  term: string;
  category: 'regulatory' | 'governance' | 'implementation' | 'customer' | 'distribution';
  officialDefinition: string;
  fcaReference?: string;
  plainEnglish: string;
  whyItMatters: string;
  practicalExample: string;
  commonMisconceptions?: string;
  whatItLooksLike?: string[];
  relatedTerms: string[];
}

export const categoryLabels: Record<string, string> = {
  regulatory: 'Regulatory Framework',
  governance: 'Governance & Accountability',
  implementation: 'Implementation',
  customer: 'Customer Focus',
  distribution: 'Distribution',
};

export const categoryColors: Record<string, string> = {
  regulatory: 'bg-primary/10 text-primary border-primary/20',
  governance: 'bg-accent/10 text-accent-foreground border-accent/20',
  implementation: 'bg-green-500/10 text-green-700 border-green-500/20',
  customer: 'bg-purple-500/10 text-purple-700 border-purple-500/20',
  distribution: 'bg-blue-500/10 text-blue-700 border-blue-500/20',
};

export const glossaryTerms: GlossaryTerm[] = [
  // A-C Terms
  {
    id: 'annual-board-report',
    term: 'Annual Board Report',
    category: 'governance',
    officialDefinition: 'Mandatory annual report to Board assessing Consumer Duty compliance',
    fcaReference: 'PRIN 2A',
    plainEnglish: 'Yearly evidence pack proving firm is delivering good customer outcomes.',
    whyItMatters: 'Provides documented accountability and demonstrates ongoing compliance to regulators.',
    practicalExample: 'The 2025 Board Report showed CSAT scores, FVA outcomes, and vulnerable customer variance analysis.',
    commonMisconceptions: 'This is NOT just a tick-box exercise - it requires substantive evidence of outcomes.',
    whatItLooksLike: [
      'Comprehensive MI dashboard summaries',
      'Fair Value Assessment outcomes for all products',
      'Vulnerable customer outcome analysis',
      'Complaint trend analysis with root causes',
    ],
    relatedTerms: ['attestation', 'management-information', 'governance'],
  },
  {
    id: 'attestation',
    term: 'Attestation',
    category: 'governance',
    officialDefinition: 'Formal declaration by senior managers that firm is Consumer Duty compliant.',
    plainEnglish: 'SMF sign-off backed by hard evidence, not just process compliance.',
    whyItMatters: 'Creates personal accountability for senior managers with regulatory consequences.',
    practicalExample: 'CEO attestation required MI showing 0 products with negative fair value.',
    commonMisconceptions: 'This is NOT a simple statement of intent - it must be backed by documented evidence.',
    relatedTerms: ['smf', 'evidence', 'reasonable-grounds'],
  },
  {
    id: 'avoid-foreseeable-harm',
    term: 'Avoid Foreseeable Harm',
    category: 'regulatory',
    officialDefinition: 'Cross-cutting rule requiring firms to identify and prevent reasonably predictable customer harm.',
    fcaReference: 'PRIN 2A.2.2',
    plainEnglish: 'Proactive duty to spot risks and stop bad outcomes before they happen.',
    whyItMatters: 'Shifts focus from reactive to proactive customer protection.',
    practicalExample: 'Firm spotted elderly customers struggling with digital-only service, added phone option.',
    whatItLooksLike: [
      'Risk assessments identifying potential harm scenarios',
      'Proactive monitoring of customer outcomes',
      'Early intervention when negative trends emerge',
    ],
    relatedTerms: ['cross-cutting-rules', 'good-faith', 'vulnerable-customer'],
  },
  {
    id: 'board-champion',
    term: 'Board Champion',
    category: 'governance',
    officialDefinition: 'Board-level individual (typically NED) championing Consumer Duty (no longer mandatory from Feb 2025).',
    plainEnglish: 'Senior person ensuring customer outcomes stay on board agenda.',
    whyItMatters: 'Ensures Consumer Duty has visibility and advocacy at the highest level.',
    practicalExample: 'NED chairs quarterly deep-dive on vulnerable customer outcomes.',
    relatedTerms: ['governance', 'board-responsibilities', 'oversight'],
  },
  {
    id: 'closed-products',
    term: 'Closed Products',
    category: 'implementation',
    officialDefinition: 'Products no longer marketed or sold to new customers (Consumer Duty applied from 31 July 2024).',
    plainEnglish: 'Legacy products still servicing existing customers - must deliver fair value.',
    whyItMatters: 'Existing customers in older products deserve the same protection as new customers.',
    practicalExample: '2015 savings account closed to new business but 5,000 customers still holding it.',
    whatItLooksLike: [
      'Fair Value Assessments for all legacy products',
      'Ongoing monitoring of customer outcomes',
      'Review of exit barriers and switching options',
    ],
    relatedTerms: ['fair-value-assessment', 'ongoing-monitoring', 'exit-barriers'],
  },
  {
    id: 'consumer-principle',
    term: 'Consumer Principle (Principle 12)',
    category: 'regulatory',
    officialDefinition: 'A firm must act to deliver good outcomes for retail customers.',
    fcaReference: 'PRIN 2A.1.1',
    plainEnglish: 'Highest-level duty replacing TCF - outcomes matter more than processes.',
    whyItMatters: 'Establishes outcomes-focused regulation rather than process compliance.',
    practicalExample: 'Process was followed but customer still lost money = Principle 12 breach.',
    relatedTerms: ['cross-cutting-rules', 'four-outcomes', 'retail-customer'],
  },
  {
    id: 'consumer-support-outcome',
    term: 'Consumer Support Outcome',
    category: 'regulatory',
    officialDefinition: 'Requirement that firms provide support enabling customers to realise product benefits.',
    fcaReference: 'PRIN 2A.6',
    plainEnglish: 'Make it easy for customers to get help, make claims, switch, complain.',
    whyItMatters: 'Ensures customers can actually use and benefit from products they have purchased.',
    practicalExample: 'Call centre answers in <30 seconds, claims paid in <5 days, one-click cancellation.',
    whatItLooksLike: [
      'Fast response times across all channels',
      'Easy claims and complaints processes',
      'Simple switching and cancellation',
      'Proactive support for struggling customers',
    ],
    relatedTerms: ['four-outcomes', 'sludge-practices', 'vulnerable-customer'],
  },
  {
    id: 'consumer-understanding-outcome',
    term: 'Consumer Understanding Outcome',
    category: 'regulatory',
    officialDefinition: 'Communications must equip consumers to make informed decisions.',
    fcaReference: 'PRIN 2A.5',
    plainEnglish: 'Prove customers actually understand, not just that you disclosed information.',
    whyItMatters: 'Moves beyond disclosure to demonstrated comprehension.',
    practicalExample: 'Post-sale testing showed only 60% understood exit fees - comms redesigned.',
    whatItLooksLike: [
      'Customer comprehension testing results',
      'Plain language documentation',
      'Behavioural testing evidence',
    ],
    relatedTerms: ['four-outcomes', 'communication-testing', 'behavioural-testing'],
  },
  {
    id: 'cross-cutting-rules',
    term: 'Cross-Cutting Rules',
    category: 'regulatory',
    officialDefinition: 'Three fundamental behavioural obligations underlying Consumer Duty.',
    fcaReference: 'PRIN 2A.2',
    plainEnglish: 'How firms must behave: good faith + avoid harm + enable objectives.',
    whyItMatters: 'Provides the behavioural foundation for all Consumer Duty activities.',
    practicalExample: 'Product profitable but exploited low capability = cross-cutting rule breach.',
    whatItLooksLike: [
      'Good faith in all customer dealings',
      'Proactive harm prevention',
      'Removing barriers to customer objectives',
    ],
    relatedTerms: ['consumer-principle', 'good-faith', 'foreseeable-harm'],
  },
  // D-F Terms
  {
    id: 'differential-outcomes',
    term: 'Differential Outcomes',
    category: 'implementation',
    officialDefinition: 'Requirement to assess if different customer groups receive different value/outcomes.',
    plainEnglish: 'Check vulnerable/certain segments are not systematically getting worse deals.',
    whyItMatters: 'Ensures fair treatment across all customer segments.',
    practicalExample: 'Back-book customers paying 2x new customers for same product = differential harm.',
    relatedTerms: ['fair-value-assessment', 'vulnerable-customer', 'outcome-monitoring'],
  },
  {
    id: 'distribution-chain',
    term: 'Distribution Chain',
    category: 'distribution',
    officialDefinition: 'All firms involved in creating and selling products to retail customers.',
    plainEnglish: 'Manufacturer makes it, distributors sell it - all responsible for outcomes.',
    whyItMatters: 'Clarifies shared accountability across the product lifecycle.',
    practicalExample: 'Fund manager + platform + adviser = distribution chain for investment.',
    relatedTerms: ['manufacturer', 'distributor', 'information-sharing'],
  },
  {
    id: 'distributor',
    term: 'Distributor',
    category: 'distribution',
    officialDefinition: 'Firm that offers, sells, advises on, or arranges products for retail customers.',
    plainEnglish: 'Anyone selling someone else\'s product - must ensure it reaches right customers.',
    whyItMatters: 'Distributors must ensure products reach appropriate target markets.',
    practicalExample: 'IFA distributing pension product must confirm target market match.',
    relatedTerms: ['manufacturer', 'distribution-chain', 'target-market'],
  },
  {
    id: 'enable-pursuit',
    term: 'Enable Pursuit of Financial Objectives',
    category: 'regulatory',
    officialDefinition: 'Cross-cutting rule requiring firms to facilitate customers acting in their interests.',
    fcaReference: 'PRIN 2A.2.3',
    plainEnglish: 'Remove barriers, don\'t trap customers, make switching/exiting easy.',
    whyItMatters: 'Ensures firms actively help customers achieve their goals.',
    practicalExample: 'Mortgage exit fees waived for customers moving to better deal elsewhere.',
    relatedTerms: ['cross-cutting-rules', 'sludge-practices', 'consumer-support-outcome'],
  },
  {
    id: 'evidence',
    term: 'Evidence',
    category: 'implementation',
    officialDefinition: 'Documentation demonstrating reasonable grounds for Consumer Duty compliance.',
    plainEnglish: 'Audit trail proving decisions were justified with data available at the time.',
    whyItMatters: 'Forms the basis for attestation and regulatory defence.',
    practicalExample: 'FVA spreadsheet + market benchmarking + board minutes = evidence of fair value.',
    whatItLooksLike: [
      'Documented decision-making processes',
      'Data analysis and market research',
      'Meeting minutes and approval records',
      'Customer outcome measurements',
    ],
    relatedTerms: ['reasonable-grounds', 'attestation', 'documentation'],
  },
  {
    id: 'fair-value',
    term: 'Fair Value',
    category: 'regulatory',
    officialDefinition: 'Reasonable relationship between total price and overall benefits received.',
    fcaReference: 'PRIN 2A.4',
    plainEnglish: 'Price justified by what customer gets - not just lowest price in market.',
    whyItMatters: 'Prevents exploitation while allowing premium pricing where justified.',
    practicalExample: 'Premium price acceptable if service quality, support, and benefits justify it.',
    relatedTerms: ['fair-value-assessment', 'price-value-outcome', 'differential-outcomes'],
  },
  {
    id: 'fair-value-assessment',
    term: 'Fair Value Assessment (FVA)',
    category: 'implementation',
    officialDefinition: 'Mandatory assessment by manufacturers proving products offer fair value.',
    plainEnglish: 'Evidence-based analysis showing price is reasonable for benefits delivered.',
    whyItMatters: 'Core requirement demonstrating product value to customers.',
    practicalExample: 'FVA considers costs, benefits, market rates, segments, vulnerable customers.',
    whatItLooksLike: [
      'Cost analysis and benchmarking',
      'Benefits documentation',
      'Customer segment analysis',
      'Competitive comparison',
    ],
    relatedTerms: ['manufacturer', 'fair-value', 'price-benchmarking'],
  },
  {
    id: 'fg21-1',
    term: 'FG21/1',
    category: 'regulatory',
    officialDefinition: 'FCA Guidance for firms on fair treatment of vulnerable customers (February 2021).',
    plainEnglish: 'The vulnerable customer rulebook - four drivers model, identification, support.',
    whyItMatters: 'Establishes framework for identifying and supporting vulnerable customers.',
    practicalExample: 'FG21/1 defines Health, Life Events, Resilience, Capability as drivers.',
    relatedTerms: ['vulnerable-customer', 'four-drivers', 'characteristics-vulnerability'],
  },
  {
    id: 'fg22-5',
    term: 'FG22/5',
    category: 'regulatory',
    officialDefinition: 'FCA Final non-Handbook Guidance on Consumer Duty (July 2022).',
    plainEnglish: 'The Consumer Duty interpretation guide - 100+ pages of practical guidance.',
    whyItMatters: 'Primary source for understanding FCA expectations.',
    practicalExample: 'FG22/5 para 4.12 explains what "reasonable grounds" means.',
    relatedTerms: ['ps22-9', 'prin-2a', 'regulatory-framework'],
  },
  {
    id: 'foreseeable-harm',
    term: 'Foreseeable Harm',
    category: 'regulatory',
    officialDefinition: 'Harm a prudent firm should reasonably anticipate and prevent.',
    plainEnglish: 'If you could see it coming based on what you knew, you should have stopped it.',
    whyItMatters: 'Sets the standard for proactive harm prevention.',
    practicalExample: 'Firm knew customers often misunderstood fees but did not improve comms = foreseeable.',
    relatedTerms: ['avoid-foreseeable-harm', 'reasonable-grounds', 'vulnerable-customer'],
  },
  {
    id: 'four-drivers',
    term: 'Four Drivers of Vulnerability',
    category: 'customer',
    officialDefinition: 'Health, Life Events, Resilience, Capability - factors increasing susceptibility to harm.',
    fcaReference: 'FG21/1',
    plainEnglish: 'Four ways customers can become vulnerable - often overlapping.',
    whyItMatters: 'Provides framework for identifying vulnerability.',
    practicalExample: 'Bereavement (life event) + depression (health) + debt (resilience) = multiple drivers.',
    whatItLooksLike: [
      'Health: physical/mental conditions',
      'Life Events: bereavement, job loss, divorce',
      'Resilience: low income, debt, lack of savings',
      'Capability: low literacy, digital skills, financial knowledge',
    ],
    relatedTerms: ['vulnerable-customer', 'fg21-1', 'characteristics-vulnerability'],
  },
  {
    id: 'four-outcomes',
    term: 'Four Outcomes',
    category: 'regulatory',
    officialDefinition: 'Products & Services, Price & Value, Consumer Understanding, Consumer Support.',
    fcaReference: 'PRIN 2A.3-2A.6',
    plainEnglish: 'Four areas where firms must prove good customer outcomes.',
    whyItMatters: 'Defines the key areas of focus for Consumer Duty compliance.',
    practicalExample: 'Product suitable (P&S) + fair price (P&V) + understood (CU) + supported (CS) = compliant.',
    relatedTerms: ['consumer-principle', 'outcome-monitoring', 'implementation'],
  },
  // G-M Terms
  {
    id: 'good-faith',
    term: 'Good Faith',
    category: 'regulatory',
    officialDefinition: 'Cross-cutting rule requiring honest, fair, transparent dealings with customers.',
    fcaReference: 'PRIN 2A.2.1',
    plainEnglish: 'Don\'t exploit customer\'s lack of knowledge, biases, or vulnerabilities.',
    whyItMatters: 'Establishes the behavioural baseline for all customer interactions.',
    practicalExample: 'Hiding cancellation option in T&Cs to trap customers = bad faith.',
    relatedTerms: ['cross-cutting-rules', 'consumer-principle', 'avoid-foreseeable-harm'],
  },
  {
    id: 'governance',
    term: 'Governance',
    category: 'governance',
    officialDefinition: 'Structures, processes, and accountability for Consumer Duty oversight.',
    plainEnglish: 'Who\'s in charge, what they\'re responsible for, how they prove it.',
    whyItMatters: 'Ensures clear accountability and effective oversight.',
    practicalExample: 'Consumer Duty Oversight Committee → Exec Committee → Board quarterly.',
    whatItLooksLike: [
      'Clear committee structures',
      'Defined reporting lines',
      'Regular oversight meetings',
      'Documented decisions and actions',
    ],
    relatedTerms: ['board-responsibilities', 'smf', 'raci-matrix'],
  },
  {
    id: 'management-information',
    term: 'Management Information (MI)',
    category: 'implementation',
    officialDefinition: 'Data and analytics evidencing customer outcomes across four outcomes.',
    plainEnglish: 'Numbers and insights proving whether customers are getting good outcomes.',
    whyItMatters: 'Provides the evidence base for attestation and continuous improvement.',
    practicalExample: 'MI dashboard showing CSAT by vulnerable vs non-vulnerable, complaint themes, FVA status.',
    whatItLooksLike: [
      'Customer satisfaction scores',
      'Complaint volumes and trends',
      'Fair value assessment results',
      'Outcome variance analysis',
    ],
    relatedTerms: ['outcome-monitoring', 'kpis', 'dashboard'],
  },
  {
    id: 'manufacturer',
    term: 'Manufacturer',
    category: 'distribution',
    officialDefinition: 'Firm that creates, develops, designs, issues, or underwrites products.',
    plainEnglish: 'The product maker - responsible for design, testing, fair value.',
    whyItMatters: 'Primary accountability for product design and value.',
    practicalExample: 'Insurance underwriter designing policy is manufacturer, broker selling it is distributor.',
    relatedTerms: ['distributor', 'distribution-chain', 'product-governance'],
  },
  {
    id: 'material-risk',
    term: 'Material Risk',
    category: 'implementation',
    officialDefinition: 'Risk significant enough to impact customer outcomes or require board attention.',
    plainEnglish: 'Big enough to matter - can\'t ignore, must monitor and mitigate.',
    whyItMatters: 'Helps prioritise focus and resources.',
    practicalExample: '5% of vulnerable customers getting worse value = material risk requiring action.',
    relatedTerms: ['risk-assessment', 'foreseeable-harm', 'prioritisation'],
  },
  // N-R Terms
  {
    id: 'negative-target-market',
    term: 'Negative Target Market',
    category: 'customer',
    officialDefinition: 'Customers for whom a product is NOT suitable and should not be sold to.',
    plainEnglish: 'The "don\'t sell to" list - as important as defining who product IS for.',
    whyItMatters: 'Prevents mis-selling to unsuitable customers.',
    practicalExample: 'High-cost credit: negative target market = people who can\'t afford repayments.',
    relatedTerms: ['target-market', 'products-services-outcome', 'mis-selling'],
  },
  {
    id: 'ongoing-monitoring',
    term: 'Ongoing Monitoring',
    category: 'implementation',
    officialDefinition: 'Continuous assessment of customer outcomes post-implementation.',
    plainEnglish: 'Consumer Duty is not one-and-done - must keep checking outcomes forever.',
    whyItMatters: 'Ensures sustained compliance and continuous improvement.',
    practicalExample: 'Quarterly review of FVA status, monthly MI dashboard, annual board report.',
    relatedTerms: ['management-information', 'annual-review', 'continuous-improvement'],
  },
  {
    id: 'outcome-monitoring',
    term: 'Outcome Monitoring',
    category: 'implementation',
    officialDefinition: 'Systematic tracking of actual results customers experience across four outcomes.',
    plainEnglish: 'Measuring what actually happens to customers, not just what processes ran.',
    whyItMatters: 'Shifts focus from process to outcomes.',
    practicalExample: 'Track: customers who understand T&Cs (testing) not just T&Cs sent (process).',
    relatedTerms: ['management-information', 'four-outcomes', 'testing'],
  },
  {
    id: 'outcome-parity',
    term: 'Outcome Parity',
    category: 'customer',
    officialDefinition: 'Requirement that vulnerable customers achieve outcomes as good as others.',
    plainEnglish: 'Vulnerable customers should not systematically get worse results.',
    whyItMatters: 'Ensures fair treatment regardless of vulnerability.',
    practicalExample: 'Vulnerable customer CSAT 3.8/5 vs all customers 4.5/5 = negative variance, needs action.',
    relatedTerms: ['vulnerable-customer', 'differential-outcomes', 'four-drivers'],
  },
  {
    id: 'outcome-testing',
    term: 'Outcome Testing',
    category: 'implementation',
    officialDefinition: 'Testing whether products/services delivered expected outcomes to customers (vs just process checking).',
    plainEnglish: 'Did customer actually benefit? Not just "did we follow the process?"',
    whyItMatters: 'Validates that processes are delivering intended results.',
    practicalExample: 'Test: did customer claim when needed? Not: did we send claim form?',
    relatedTerms: ['quality-control', 'assurance', 'evidence'],
  },
  {
    id: 'outsourcing',
    term: 'Outsourcing',
    category: 'distribution',
    officialDefinition: 'Delegating activities to third parties while retaining Consumer Duty accountability.',
    plainEnglish: 'You can outsource the work but not the responsibility for outcomes.',
    whyItMatters: 'Clarifies that accountability cannot be delegated.',
    practicalExample: 'Firm outsources call centre but still responsible for poor customer support.',
    relatedTerms: ['third-party', 'distribution-chain', 'accountability'],
  },
  {
    id: 'price-value-outcome',
    term: 'Price & Value Outcome',
    category: 'regulatory',
    officialDefinition: 'Requirement that price has reasonable relationship to overall benefits.',
    fcaReference: 'PRIN 2A.4',
    plainEnglish: 'Product must offer fair value - not ripping customers off.',
    whyItMatters: 'Core consumer protection against unfair pricing.',
    practicalExample: 'Premium pricing OK if superior service/support justifies it with evidence.',
    relatedTerms: ['four-outcomes', 'fair-value', 'fair-value-assessment'],
  },
  {
    id: 'prin-2a',
    term: 'PRIN 2A',
    category: 'regulatory',
    officialDefinition: 'FCA Handbook chapter containing Consumer Duty rules (effective July 2023).',
    plainEnglish: 'The official Consumer Duty rulebook in the FCA Handbook.',
    whyItMatters: 'Primary regulatory source for Consumer Duty requirements.',
    practicalExample: 'PRIN 2A.3 = Products & Services, PRIN 2A.4 = Price & Value, etc.',
    relatedTerms: ['fg22-5', 'ps22-9', 'fca-handbook'],
  },
  {
    id: 'products-services-outcome',
    term: 'Products & Services Outcome',
    category: 'regulatory',
    officialDefinition: 'Products/services must meet needs of identified target market.',
    fcaReference: 'PRIN 2A.3',
    plainEnglish: 'Design products for specific customers and prove they work for them.',
    whyItMatters: 'Ensures products are appropriate for intended customers.',
    practicalExample: 'Complex investment product: target market = financially sophisticated, NOT first-time investors.',
    relatedTerms: ['four-outcomes', 'target-market', 'product-governance'],
  },
  {
    id: 'proportionality',
    term: 'Proportionality',
    category: 'implementation',
    officialDefinition: 'Expectations scale with firm size, complexity, and resources.',
    plainEnglish: 'Small firms need less elaborate systems but same outcomes.',
    whyItMatters: 'Allows flexible implementation while maintaining standards.',
    practicalExample: 'Small IFA: simple Excel FVA OK. Large bank: automated system expected.',
    relatedTerms: ['reasonable-grounds', 'implementation', 'compliance'],
  },
  {
    id: 'ps22-9',
    term: 'PS22/9',
    category: 'regulatory',
    officialDefinition: 'FCA Policy Statement "A new Consumer Duty" (July 2022) containing final rules.',
    plainEnglish: 'The document that made Consumer Duty official law.',
    whyItMatters: 'Establishes the legal basis for Consumer Duty.',
    practicalExample: 'PS22/9 introduced Principle 12 and PRIN 2A to FCA Handbook.',
    relatedTerms: ['fg22-5', 'prin-2a', 'regulatory-framework'],
  },
  {
    id: 'raci-matrix',
    term: 'RACI Matrix',
    category: 'governance',
    officialDefinition: 'Responsibility Assignment matrix (Responsible, Accountable, Consulted, Informed).',
    plainEnglish: 'Who does what - clear accountability for every Consumer Duty task.',
    whyItMatters: 'Prevents gaps and overlaps in responsibility.',
    practicalExample: 'FVA: Product Manager Responsible, CPO Accountable, Risk Consulted, Board Informed.',
    relatedTerms: ['governance', 'accountability', 'implementation'],
  },
  {
    id: 'reasonable-grounds',
    term: 'Reasonable Grounds',
    category: 'implementation',
    officialDefinition: 'Sufficient evidence justifying decisions based on information available at the time.',
    plainEnglish: 'Could you prove your decision was sensible when you made it?',
    whyItMatters: 'Provides a defensible standard for compliance.',
    practicalExample: 'FVA used market data from 2024, assumptions proved wrong in 2025 = still compliant if reasonable then.',
    relatedTerms: ['evidence', 'attestation', 'documentation'],
  },
  {
    id: 'retail-customer',
    term: 'Retail Customer',
    category: 'customer',
    officialDefinition: 'Consumers, micro-enterprises (turnover <£1m), small charities (income <£1m).',
    plainEnglish: 'Who Consumer Duty protects - mostly individuals and very small businesses.',
    whyItMatters: 'Defines the scope of Consumer Duty protection.',
    practicalExample: 'Sole trader with £500K turnover buying business insurance = retail customer.',
    relatedTerms: ['scope', 'consumer-principle', 'application'],
  },
  {
    id: 'remediation',
    term: 'Remediation',
    category: 'implementation',
    officialDefinition: 'Actions taken to fix identified breaches or poor customer outcomes.',
    plainEnglish: 'Making it right when things go wrong - refunds, product changes, process fixes.',
    whyItMatters: 'Demonstrates commitment to customer outcomes.',
    practicalExample: 'Firm identified poor value product: refunded excess fees, improved product, wrote to FCA.',
    relatedTerms: ['breach', 'enforcement', 'root-cause-analysis'],
  },
  {
    id: 'root-cause-analysis',
    term: 'Root Cause Analysis (RCA)',
    category: 'implementation',
    officialDefinition: 'Systematic investigation of why poor outcomes occurred to prevent recurrence.',
    plainEnglish: 'Don\'t just fix the symptom, find and fix the underlying cause.',
    whyItMatters: 'Prevents repeated failures and enables improvement.',
    practicalExample: 'High complaints: RCA found understaffed call centre, not product issue.',
    relatedTerms: ['complaints', 'remediation', 'continuous-improvement'],
  },
  // S-Z Terms
  {
    id: 'smcr',
    term: 'Senior Managers & Certification Regime (SM&CR)',
    category: 'governance',
    officialDefinition: 'Framework for individual accountability of senior managers in financial services.',
    plainEnglish: 'Senior people personally responsible for their areas - can be fined/banned.',
    whyItMatters: 'Creates personal accountability for Consumer Duty compliance.',
    practicalExample: 'COO is SMF24 responsible for operations including consumer support outcome.',
    relatedTerms: ['smf', 'accountability', 'attestation'],
  },
  {
    id: 'smf',
    term: 'Senior Management Function (SMF)',
    category: 'governance',
    officialDefinition: 'Role with significant influence over firm\'s conduct (SMF holders personally accountable under SM&CR).',
    plainEnglish: 'Senior manager responsible for specific Consumer Duty areas.',
    whyItMatters: 'Creates personal accountability with regulatory consequences.',
    practicalExample: 'CEO = SMF1 overall responsible, CRO = SMF4 responsible for risk aspects.',
    relatedTerms: ['smcr', 'accountability', 'governance'],
  },
  {
    id: 'sludge-practices',
    term: 'Sludge Practices',
    category: 'customer',
    officialDefinition: 'Unreasonable barriers making it difficult for customers to act in their interests.',
    plainEnglish: 'Deliberately making cancellation/switching hard to trap customers.',
    whyItMatters: 'Directly harmful to customer outcomes and banned under Consumer Duty.',
    practicalExample: '1-click sign-up but must call during office hours to cancel = sludge.',
    whatItLooksLike: [
      'Complex cancellation processes',
      'Hidden contact information',
      'Excessive verification requirements',
      'Unreasonable notice periods',
    ],
    relatedTerms: ['consumer-support-outcome', 'exit-barriers', 'enable-pursuit'],
  },
  {
    id: 'statement-of-responsibilities',
    term: 'Statement of Responsibilities (SoR)',
    category: 'governance',
    officialDefinition: 'Document defining SMF holder\'s specific responsibilities including Consumer Duty.',
    plainEnglish: 'Your personal job description of what you\'re accountable for.',
    whyItMatters: 'Clarifies individual accountability for regulatory purposes.',
    practicalExample: 'CPO SoR includes: product governance, target market definition, FVA approval.',
    relatedTerms: ['smf', 'smcr', 'accountability'],
  },
  {
    id: 'target-market',
    term: 'Target Market',
    category: 'customer',
    officialDefinition: 'Specific customer group for whom product is designed and suitable.',
    plainEnglish: 'Who the product is FOR - must be granular and specific.',
    whyItMatters: 'Ensures products are designed for and sold to appropriate customers.',
    practicalExample: 'Target: UK homeowners age 30-50, £50K+ income, first-time life insurance buyers.',
    whatItLooksLike: [
      'Demographic criteria',
      'Financial circumstances',
      'Knowledge and experience levels',
      'Needs and objectives',
    ],
    relatedTerms: ['products-services-outcome', 'negative-target-market', 'vulnerable-customer'],
  },
  {
    id: 'tcf',
    term: 'Treating Customers Fairly (TCF)',
    category: 'regulatory',
    officialDefinition: 'Previous FCA consumer protection framework (Principle 6) superseded by Consumer Duty.',
    plainEnglish: 'The old rules - Consumer Duty is higher standard with outcomes focus.',
    whyItMatters: 'Understanding the shift from process to outcomes-based regulation.',
    practicalExample: 'TCF = did you follow fair process? Consumer Duty = did customer get good outcome?',
    relatedTerms: ['consumer-principle', 'principle-6', 'regulatory-history'],
  },
  {
    id: 'vulnerable-customer',
    term: 'Vulnerable Customer',
    category: 'customer',
    officialDefinition: 'Someone who, due to personal circumstances, is especially susceptible to harm.',
    fcaReference: 'FG21/1',
    plainEnglish: 'Customer more likely to be harmed if firm doesn\'t provide extra care.',
    whyItMatters: 'Requires enhanced protection and monitoring.',
    practicalExample: 'Recent widow (life event) with poor financial knowledge (capability) = vulnerable.',
    whatItLooksLike: [
      'Customers with health conditions',
      'Those experiencing life events',
      'People with low financial resilience',
      'Those with capability challenges',
    ],
    relatedTerms: ['four-drivers', 'characteristics-vulnerability', 'outcome-parity'],
  },
  {
    id: 'characteristics-vulnerability',
    term: 'Characteristics of Vulnerability',
    category: 'customer',
    officialDefinition: 'Personal circumstances making someone susceptible to harm under four drivers.',
    plainEnglish: 'Things that make someone vulnerable - health, life events, resilience, capability.',
    whyItMatters: 'Helps identify vulnerable customers for enhanced support.',
    practicalExample: 'Visual impairment + bereavement + low income + poor digital skills = multiple characteristics.',
    relatedTerms: ['vulnerable-customer', 'four-drivers', 'fg21-1'],
  },
  {
    id: 'communication-testing',
    term: 'Communication Testing',
    category: 'implementation',
    officialDefinition: 'Testing to verify customers actually understand communications (not just that they\'re clear).',
    plainEnglish: 'Prove customers get it - comprehension testing, behavioural testing, usability testing.',
    whyItMatters: 'Validates that communications are achieving their purpose.',
    practicalExample: 'Post-sale quiz: only 70% understood exit fees → redesign comms → retest.',
    whatItLooksLike: [
      'Comprehension surveys',
      'A/B testing of communications',
      'Usability testing',
      'Focus groups',
    ],
    relatedTerms: ['consumer-understanding-outcome', 'behavioural-testing', 'outcome-testing'],
  },
  {
    id: 'behavioural-testing',
    term: 'Behavioural Testing',
    category: 'implementation',
    officialDefinition: 'Testing how customers actually behave in response to communications/products.',
    plainEnglish: 'Watch what customers DO, not just what they SAY they understand.',
    whyItMatters: 'Reveals actual customer behaviour vs stated understanding.',
    practicalExample: 'Customers said they understood, but 40% still clicked wrong button → design flaw.',
    relatedTerms: ['consumer-understanding-outcome', 'communication-testing', 'outcome-testing'],
  },
];

export const getAlphabetIndex = (): Record<string, number> => {
  const alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');
  const index: Record<string, number> = {};
  
  alphabet.forEach(letter => {
    index[letter] = glossaryTerms.filter(term => 
      term.term.toUpperCase().startsWith(letter)
    ).length;
  });
  
  return index;
};

export const getTermsByLetter = (letter: string): GlossaryTerm[] => {
  return glossaryTerms.filter(term => 
    term.term.toUpperCase().startsWith(letter.toUpperCase())
  );
};
